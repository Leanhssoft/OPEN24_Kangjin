@using System.Web.Optimization;
@using banhang24.Hellper;
@{
    Layout = null;
    ViewBag.Title = "Open24.vn - Báo cáo hoa hồng nhân viên";
}
<style>
    .treename {
        line-height: 30px;
        width: 100%;
        float: left;
    }
</style>
@Html.Hidden("loaibaocao", (int)commonEnum.GroupReport.chietkhau, new { @id = "ID_loaibaocao" })
<div class="op-container ">
    <div class="container-fluid nopadding">
        <div class="col-left">
            <div class=" op-filter ">
                <section class="op-filter-body">
                    <article class="boxLeft">
                        <h3 class="op-filter-title ">
                            <img src="/Content/images/icon/report-loaibaocao.png"> Loại báo cáo
                        </h3>
                        <aside class="op-filter-container">
                            <ul class="chose_kieubang ul-radius">
                                <li value="1" class="active" data-id="@((int)commonEnum.TypeReport.tonghop)">
                                    <a href="#home" data-toggle="tab" class="box-tab">
                                        <input type="radio" name="kieubang" value="1" data-toggle="tab">
                                        <label>Tổng hợp</label>
                                    </a>
                                </li>
                                <li value="2" data-id="@((int)commonEnum.TypeReport.chitiet)">
                                    <a href="#Detail" data-toggle="tab">
                                        <input type="radio" name="kieubang" value="2" data-toggle="tab">
                                        <label>Chi tiết</label>
                                    </a>
                                </li>
                            </ul>
                        </aside>
                    </article>
                    <article class="boxLeft showNhanVien">
                        <h3 class="op-filter-title " onclick="toggleSubFilter(this)">
                            <img src="~/Content/images/icon/nguoinhan.png">    Nhân viên
                        </h3>
                        <aside class="op-filter-container">
                            <div class="outselect">
                                <div class="nameNhanVien choose-person floatleft " data-toggle="dropdown" id="choose_NhanVien">
                                    <ul data-bind="foreach: MangNhanVien">
                                        <li class="li-input-span">
                                            <span data-bind="text: TenNhanVien">
                                            </span>
                                            <span data-bind="click: $parent.CloseNhanVien">
                                                <i class="fa fa-times"></i>
                                            </span>
                                        </li>
                                    </ul>
                                    <input type="text" class="dropdown nameNhanVien" id="NoteNameNhanVien" data-bind="event:{keyup: NoteNameNhanVien}" placeholder="Chọn nhân viên..." />
                                </div>
                                <div class="selec-person dropdown-menu" id="selec-all-NhanVien">
                                    <ul data-bind="foreach: NhanViens">
                                        <li data-bind="attr:{id: ID}, click: $parent.SelectedNhanVien">
                                            <span data-bind="text: TenNhanVien "></span>
                                    </ul>
                                </div>
                            </div>
                        </aside>
                    </article>
                    <article class="boxLeft showChiNhanh">
                        <h3 class="op-filter-title " onclick="toggleSubFilter(this)">
                            <img src="/Content/images/icon/chinhanh-black.png">    Chi nhánh
                        </h3>
                        <aside class="op-filter-container">
                            <div class="outselect">
                                <div class="nameDonVi choose-person floatleft " data-toggle="dropdown" id="choose_DonVi">
                                    <ul data-bind="foreach: MangChiNhanh">
                                        <li class="li-input-span">
                                            <span data-bind="text: TenDonVi">
                                            </span>
                                            <span data-bind="click: $parent.CloseDonVi">
                                                <i class="fa fa-times"></i>
                                            </span>
                                        </li>
                                    </ul>
                                    <input type="text" class="dropdown nameDonVi" id="NoteNameDonVi" data-bind="event:{keyup: NoteNameDonVi}" placeholder="Chọn chi nhánh..." />
                                </div>
                                <div class="selec-person dropdown-menu" id="selec-all-DonVi">
                                    <ul data-bind="foreach: DonVis">
                                        <li data-bind="attr:{id: ID}, click: $parent.SelectedDonVi">
                                            <span data-bind="text: TenDonVi "></span>
                                    </ul>
                                </div>
                            </div>
                        </aside>
                    </article>
                    <article class="boxLeft ">
                        <h3 class="op-filter-title" onclick="toggleSubFilter(this)">
                            <img src="/Content/images/icon/loaithuchi.png">  Chi nhánh
                        </h3>
                        <aside class="op-filter-container">
                            <div class="outselect" onclick="toggledropdown(this)">
                                <div class="choose-person floatleft " type="button">
                                    <div style="padding:7px"> <span>Chọn chi nhánh</span> <i class="material-icons pull-right" style="font-size:18px; color:var(--color-primary)">expand_more</i></div>
                                </div>
                                <div class="selec-person floatleft" id="">
                                    <div>
                                        <i class="material-icons"> search</i>
                                        <input class="form-control input-border-bottom" type="text" placeholder=" edit tại dòng 185" />
                                    </div>
                                    <ul>
                                        <li><input type="checkbox" class=" checkbox cb-inline" /><span class="nameCN"> Chi nhánh đơn vi cầu giấy hà nội</span></li>
                                        <li><input type="checkbox" class=" checkbox cb-inline" /><span class="nameCN"> Chi nhánh đơn vi Đống đa hà nội</span></li>
                                        <li><input type="checkbox" class=" checkbox cb-inline" /><span class="nameCN"> Chi nhánh đơn vi tử liêm hà nội</span></li>
                                        <li><input type="checkbox" class=" checkbox cb-inline" /><span class="nameCN"> Chi nhánh đơn vi cầu giấy hà nội</span></li>
                                        <li><input type="checkbox" class=" checkbox cb-inline" /><span class="nameCN"> Chi nhánh đơn vi Đống đa hà nội</span></li>
                                        <li><input type="checkbox" class=" checkbox cb-inline" /><span class="nameCN"> Chi nhánh đơn vi tử liêm hà nội</span></li>
                                        <li><input type="checkbox" class=" checkbox cb-inline" /><span class="nameCN"> Chi nhánh đơn vi cầu giấy hà nội</span></li>
                                        <li><input type="checkbox" class=" checkbox cb-inline" /><span class="nameCN"> Chi nhánh đơn vi Đống đa hà nội</span></li>
                                        <li><input type="checkbox" class=" checkbox cb-inline" /><span class="nameCN"> Chi nhánh đơn vi tử liêm hà nội</span></li>
                                    </ul>
                                </div>
                            </div>
                        </aside>
                    </article>
                    <script>
                        function toggledropdown(ele) {
                            console.log("hit")
                            $(ele).find(".selec-person").toggle();
                            $(document).mouseup(function () {
                                $(ele).find(".selec-person").css("display", "none");
                                $(ele).removeClass("open");
                            });
                        }</script>
                    <article class="boxLeft">
                        <h3 class="op-filter-title " onclick="toggleSubFilter(this)">
                            <img src="/Content/images/icon/loaihang.png">  Loại hoa hồng
                        </h3>
                        <aside class="op-filter-container">
                            <div class="menuCheckbox choose_LoaiHang">
                                <ul>
                                    <li>
                                        <input value="1" type="checkbox" data-bind="checked: LoaiSP_HH"> Thực hiện
                                    </li>
                                    <li>
                                        <input value="2" type="checkbox" data-bind="checked: LoaiSP_DV"> Tư vấn
                                    </li>
                                </ul>
                            </div>
                        </aside>
                    </article>
                    <article class="boxLeft">
                        <h3 class="op-filter-title " onclick="toggleSubFilter(this)">
                            <img src="/Content/images/icon/thoigian.png">      Thời gian
                        </h3>
                        <span></span>
                        <aside class="op-filter-container">
                            <div class="menuCheckbox choose_TimeReport">
                                <div class="form-group floatleft">
                                    <div class="radio-menu">
                                        <input type="radio" name="rd_TimeReport" value="1" checked="true">
                                    </div>
                                    <div class="conten-choose">
                                        <div class=" choose-date">
                                            <div class="dr_TimeReport" data-toggle="dropdown" aria-expanded="true">
                                                <input type="text" class="dropdown form-control choose-date-show ip_TimeReport" placeholder="Hôm nay">
                                            </div>
                                            <div class="dropdown-menu choose_txtTime">
                                                <div class="col-md-4 col-sm-4">
                                                    <h3>Theo ngày và tuần</h3>
                                                    <ul>
                                                        <li value="1" style="display: block;"><a href="javascript:void(0);">Hôm nay</a></li>
                                                        <li value="2" style="display: block;"><a href="javascript:void(0);">Hôm qua</a></li>
                                                        <li value="3" style="display: block;"><a href="javascript:void(0);">Tuần này</a></li>
                                                        <li value="4" style="display: block;"><a href="javascript:void(0);">Tuần trước</a></li>
                                                        <li value="5" style="display: block;"><a href="javascript:void(0);">7 ngày qua</a></li>
                                                    </ul>
                                                </div>
                                                <div class="col-md-4 col-sm-4">
                                                    <h3>Theo tháng và quý</h3>
                                                    <ul>
                                                        <li value="6" style="display: block;"><a href="javascript:void(0);">Tháng này</a></li>
                                                        <li value="7" style="display: block;"><a href="javascript:void(0);">Tháng trước</a></li>
                                                        <li value="8" style="display: block;"><a href="javascript:void(0);">30 ngày qua</a></li>
                                                        <li value="9" style="display: block;"><a href="javascript:void(0);">Quý này</a></li>
                                                        <li value="10" style="display: block;"><a href="javascript:void(0);">Quý trước</a></li>
                                                    </ul>
                                                </div><div class="col-md-4 col-sm-4">
                                                    <h3>Theo năm</h3>
                                                    <ul>
                                                        <li value="11" class="ng-scope" style="display: block;"><a href="javascript:void(0);">Năm này</a></li>
                                                        <li value="12" class="ng-scope" style="display: block;"><a href="javascript:void(0);">Năm trước</a></li>
                                                    </ul>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="form-group floatleft">
                                    <div class="radio-menu">
                                        <input type="radio" name="rd_TimeReport" value="2">
                                    </div>
                                    <div class="conten-choose">
                                        <div class="floatleft form-wrap">
                                            <input type="text" class="form-control ip_DateReport newDateTime" name="daterange" disabled="disabled">
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </aside>
                    </article>
                </section>
                <div class="op-filter-footer">
                    <button type="button" class="btn btn-link" style="color:red" onclick="closeFilter()">Hủy</button>
                    <button type="button" class="btn btn-link" onclick="collapseSubFilter(this)">
                        <span>Thu gọn</span>
                    </button>
                    <button type="button" class="btn btn-link" style="display:none" onclick="expandSubFilter(this)">
                        <span>Mở rộng</span>
                    </button>
                    <button type="button" class="btn btn-main kv2Btn" onclick="closeFilter()">Hoàn tất</button>
                </div>
            </div>
        </div>
        <div class="col-right">
            <div class="op-header">
                <div class="" style="height:unset; text-align:center">
                    <h4 class="floatleft flex  flex-center">
                        <label data-bind="text: MoiQuanTam"></label>
                    </h4>
                    <span class="floatleft" data-bind="text: TodayBC"></span>
                    <span class="floatleft">Chi nhánh: <span data-bind="text: TenChiNhanh"></span></span>
                </div>
                <div class="flex flex-between">
                    <div class=" header-button">
                            <button class="btn btn-main btn-group btnExport  btn-excel-report" id="btnExport" name="btnExport" data-bind="click: ExportExcel">
                             <i class="fa fa-file-excel-o"></i> Xuất Excel
                            </button>
                            <button class="btn btn-main btn-group btnImport btn-print-report" style="display: none" type="submit" data-toggle="modal" data-target="#myModalinport">
                                <img src="/Content/images/icon/print-black.png"> In báo cáo
                            </button>
                            <div class="btn-dropdown" id="select-column">
                                <button type="button" class="btn btn-main  dropdown-toggle" onclick="showCollumnFilter(this)" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                     <i class="fa fa-angle-double-down"></i>
                                </button>
                                <div class="dropdown-list" data-bind="css:listCheckbox().length>9?'dropdown-list-two':''" style="display: none;">
                                    <div data-bind="if:listCheckbox().length <=9">
                                        <ul data-bind="foreach: listCheckbox">
                                            <li>
                                                <div class="checkbox">
                                                    <label><input type="checkbox" class="checkbox" checked="checked" data-bind="value:Key"><span></span><label class="nopadding" data-bind="text:Value" /></label>
                                                </div>
                                            </li>
                                        </ul>
                                    </div>
                                    <div data-bind="if:listCheckbox().length >9">
                                        <div class="col-md-6 dropdown-left">
                                            <ul data-bind="foreach: listCheckbox">
                                                <!-- ko if: $index() <=($root.listCheckbox().length/2)-->
                                                <li>
                                                    <div class="checkbox">
                                                        <label><input type="checkbox" class="checkbox" checked="checked" data-bind="value:Key"><span></span><label class="nopadding" data-bind="text:Value" /></label>
                                                    </div>
                                                </li>
                                                <!--/ko-->
                                            </ul>
                                        </div>
                                        <div class="col-md-6 dropdown-right">
                                            <ul data-bind="foreach: listCheckbox">
                                                <!-- ko if: $index() >($root.listCheckbox().length/2)-->
                                                <li>
                                                    <div class="checkbox">
                                                        <label><input type="checkbox" class="checkbox" checked="checked" data-bind="value:Key"><span></span><label class="nopadding" data-bind="text:Value" /></label>
                                                    </div>
                                                </li>
                                                <!--/ko-->
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                            </div>
                    </div>
                    <div class="flex">
                        <div class=" op-search">
                            <button type="button" class=" btn-search-icon search-report" data-bind="click: LoadReport">
                                <i class="fa fa-search"></i>
                            </button>
                            <input type="text" class="form-control " id="txt_search" data-bind="event: {keyup: Select_Text}" placeholder="Theo mã, tên nhân viên">
                        </div>
                        <button class="btn btn-main op-filter-toggle" onclick="showFilter()" title="Hiển thị bộ lọc">
                            <i class="material-icons">sort</i>
                        </button>
                    </div>
                </div>
            </div>
            <div class="content-table possible-table-tab">
                <div class="tab-content tab-show">
                    <div class="tab-pane active" data-id="@((int)commonEnum.TypeReport.tonghop)" id="home">
                        <div class="col-md-12 content-report">
                            <div class="table-reponsive table-frame" id="table-reponsive">
                                <table class="table table-striped table-hover">
                                    <thead>
                                        <tr>
                                            <th class="@commonEnum.TypeRChietKhau.manhanvien text-left">Mã nhân viên</th>
                                            <th class="@commonEnum.TypeRChietKhau.tennhanvien text-left">Tên nhân viên</th>
                                            <th class="@commonEnum.TypeRChietKhau.hoahongthuchien text-right">Hoa hồng thực hiện</th>
                                            <th class="@commonEnum.TypeRChietKhau.hoahongtuvan text-right">Hoa hồng tư vấn</th>
                                            <th class="@commonEnum.TypeRChietKhau.hoahongdichvu text-right">Hoa hồng bán gói dịch vụ</th>
                                            <th class="@commonEnum.TypeRChietKhau.tong text-right">Tổng</th>
                                        </tr>
                                    </thead>
                                    <tbody data-bind="foreach: BaoCaoChietKhau_TongHop_Page">
                                        <tr class="prev-tr-hide">
                                            <td class="@commonEnum.TypeRChietKhau.manhanvien bhmact cls1 text-left " data-bind="text: MaNhanVien"></td>
                                            <td class="@commonEnum.TypeRChietKhau.tennhanvien bhmact cls1 text-left" data-bind="text: TenNhanVien"></td>
                                            <td class="@commonEnum.TypeRChietKhau.hoahongthuchien bhgiaban cls5 text-right " data-bind="text: formatNumber(HoaHongThucHien)"></td>
                                            <td class="@commonEnum.TypeRChietKhau.hoahongtuvan Total_giamgia bhthanhtien cls6 text-right" data-bind="text: formatNumber(HoaHongTuVan) "></td>
                                            <td class="@commonEnum.TypeRChietKhau.hoahongdichvu bhgiaban cls5 text-right " data-bind="text: formatNumber(HoaHongBanGoiDV)"></td>
                                            <td class="@commonEnum.TypeRChietKhau.tong bhchietkhau cls5 text-right" data-bind="text: formatNumber(Tong)"></td>
                                        </tr>
                                    </tbody>
                                    <tfoot class="PhanQuyen" hidden>
                                        <tr>
                                            <td class="bg12 bhma text-center" colspan="13"><i>Bạn không có quyền xem báo cáo này!</i></td>
                                        </tr>
                                    </tfoot>
                                    <tfoot class="Report_Empty" hidden>
                                        <tr>
                                            <td class="bg12 bhma text-center" colspan="13"><i>Báo cáo không có dữ liệu</i></td>
                                        </tr>
                                    </tfoot>
                                    <tfoot class="TC_TongHop" hidden>
                                        <tr>
                                            <td class="@commonEnum.TypeRChietKhau.manhanvien bg12 text-left bold bhmact">Tổng cộng</td>
                                            <td class="@commonEnum.TypeRChietKhau.tennhanvien bg12 bhtime"></td>
                                            <td class="@commonEnum.TypeRChietKhau.hoahongthuchien bg12 bhsoluong text-right bold" data-bind="text: formatNumber(TH_HoaHongThucHien())"></td>
                                            <td class="@commonEnum.TypeRChietKhau.hoahongtuvan bg12 text-right bold " data-bind="text: formatNumber(TH_HoaHongTuVan())"></td>
                                            <td class="@commonEnum.TypeRChietKhau.hoahongdichvu bg12 text-right bold " data-bind="text: formatNumber(TH_HoaHongBanGoiDV())"></td>
                                            <td class="@commonEnum.TypeRChietKhau.tong bg12 text-right bold " data-bind="text: formatNumber(TH_TongChietKhau())"></td>
                                        </tr>
                                    </tfoot>
                                </table>
                            </div>
                        </div>
                    </div>
                    <div class="tab-pane" data-id="@((int)commonEnum.TypeReport.chitiet)" id="Detail">
                        <div class="col-md-12 content-report">
                            <div class="table-reponsive">
                                <table class="table table-striped table-hover">
                                    <thead>
                                        <tr>
                                            <th class="@commonEnum.TypeRChietKhau.mahoadon text-left">Mã hóa đơn</th>
                                            <th class="@commonEnum.TypeRChietKhau.ngaylap text-center">Ngày lập</th>
                                            <th class="@commonEnum.TypeRChietKhau.mahang text-left">Mã hàng/dịch vụ</th>
                                            <th class="@commonEnum.TypeRChietKhau.tenhang text-left">Tên hàng/dịch vụ</th>
                                            <th class="@commonEnum.TypeRChietKhau.donvitinh text-left">Đvt</th>
                                            <th class="@commonEnum.TypeRChietKhau.lohang text-left">Lô hàng</th>
                                            <th class="@commonEnum.TypeRChietKhau.manhanvien text-left">Mã nhân viên</th>
                                            <th class="@commonEnum.TypeRChietKhau.tennhanvien text-left">Tên nhân viên</th>
                                            <th class="@commonEnum.TypeRChietKhau.hoahongthuchien text-right">Hoa hồng thực hiện</th>
                                            <th class="@commonEnum.TypeRChietKhau.hoahongtuvan text-right">Hoa hồng tư vấn</th>
                                            <th class="@commonEnum.TypeRChietKhau.hoahongdichvu text-right">Hoa hồng bán gói dịch vụ</th>
                                        </tr>
                                    </thead>
                                    <tbody data-bind="foreach: BaoCaoChietKhau_ChiTiet_Page">
                                        <tr class="prev-tr-hide">
                                            <td class="@commonEnum.TypeRChietKhau.mahoadon ">
                                                <a style="cursor: pointer" class="text-left Trinhpv-hovver" data-bind="text: MaHoaDon, click: $parent.LoadHoaDon_byMaHD">
                                                </a>
                                            </td>
                                            <td class="@commonEnum.TypeRChietKhau.ngaylap bhtime cls2 text-center">
                                                <span data-bind="text: moment(NgayLapHoaDon).format('DD/MM/YYYY')!='Invalid date'? moment(NgayLapHoaDon).format('DD/MM/YYYY HH:mm'):''"></span>
                                            </td>
                                            <td class="@commonEnum.TypeRChietKhau.mahang bhmact cls1 text-left" data-bind="text: MaHangHoa"></td>
                                            <td class="@commonEnum.TypeRChietKhau.tenhang bhname cls3 text-left">
                                                <span data-bind="text: TenHangHoa"></span>
                                                <span data-bind="text: ThuocTinh_GiaTri" style="color:#ff6a00"></span>
                                            </td>
                                            <td class="@commonEnum.TypeRChietKhau.donvitinh bhsoluong cls4 text-left" data-bind="text: TenDonViTinh"></td>
                                            <td class="@commonEnum.TypeRChietKhau.lohang">
                                                <a style="cursor: pointer" class="text-left Trinhpv-hovver" data-bind="text: TenLoHang, click: $parent.LoadLoHang_byMaLH">
                                                </a>
                                            </td>
                                            <td class="@commonEnum.TypeRChietKhau.manhanvien bhmact cls1 text-left " data-bind="text: MaNhanVien"></td>
                                            <td class="@commonEnum.TypeRChietKhau.tennhanvien bhmact cls1 text-left" data-bind="text: TenNhanVien"></td>
                                            <td class="@commonEnum.TypeRChietKhau.hoahongthuchien bhgiaban cls5 text-right " data-bind="text: formatNumber(HoaHongThucHien)"></td>
                                            <td class="@commonEnum.TypeRChietKhau.hoahongtuvan Total_giamgia bhthanhtien cls6 text-right" data-bind="text: formatNumber(HoaHongTuVan) "></td>
                                            <td class="@commonEnum.TypeRChietKhau.hoahongdichvu Total_giamgia bhthanhtien cls6 text-right" data-bind="text: formatNumber(HoaHongBanGoiDV) "></td>
                                        </tr>
                                    </tbody>
                                    <tfoot class="PhanQuyen" hidden>
                                        <tr>
                                            <td class="bg12 bhma text-center" colspan="13"><i>Bạn không có quyền xem báo cáo này!</i></td>
                                        </tr>
                                    </tfoot>
                                    <tfoot class="Report_Empty" hidden>
                                        <tr>
                                            <td class="bg12 bhma text-center" colspan="13"><i>Báo cáo không có dữ liệu</i></td>
                                        </tr>
                                    </tfoot>
                                    <tfoot class="TC_ChiTiet" hidden>
                                        <tr>
                                            <td class="@commonEnum.TypeRChietKhau.mahoadon bg12 text-left bold bhmact">Tổng cộng</td>
                                            <td class="@commonEnum.TypeRChietKhau.ngaylap bg12 bhtime"></td>
                                            <td class="@commonEnum.TypeRChietKhau.mahang bg12 bhtime"></td>
                                            <td class="@commonEnum.TypeRChietKhau.tenhang bg12 bhtime"></td>
                                            <td class="@commonEnum.TypeRChietKhau.donvitinh bg12 bhtime"></td>
                                            <td class="@commonEnum.TypeRChietKhau.lohang bg12 bhmahh"></td>
                                            <td class="@commonEnum.TypeRChietKhau.manhanvien bg12 bhtime"></td>
                                            <td class="@commonEnum.TypeRChietKhau.tennhanvien bg12 bhtime"></td>
                                            <td class="@commonEnum.TypeRChietKhau.hoahongthuchien bg12 text-right bold " data-bind="text: formatNumber(CT_HoaHongThucHien())"></td>
                                            <td class="@commonEnum.TypeRChietKhau.hoahongtuvan bg12 text-right bold " data-bind="text: formatNumber(CT_HoaHongTuVan())"></td>
                                            <td class="@commonEnum.TypeRChietKhau.hoahongdichvu bg12 text-right bold " data-bind="text: formatNumber(CT_HoaHongBanGoiDV())"></td>
                                        </tr>
                                    </tfoot>
                                </table>
                            </div>
                        </div>
                    </div>
                         <div class="page">
                            <div class="flex flex-end">
                                <a href="javascript:void(0)" data-bind="click: $root.StartPage" id="StartPage"><i class="fa fa-step-backward" aria-hidden="true"></i></a>
                                <a href="javascript:void(0)" data-bind="click: $root.BackPage" id="BackPage"><i class="fa fa-caret-left" aria-hidden="true"></i></a>
                                <ul data-bind="foreach: SumNumberPageReport">
                                    <li data-bind="click: $parent.gotoNextPage">
                                        <a href="javascript:void(0)" data-bind="text: SoTrang,css: $root.GetClass($data)"></a>
                                    </li>
                                </ul>
                                <a href="javascript:void(0)" data-bind="click: $root.NextPage" id="NextPage"><i class="fa fa-caret-right" aria-hidden="true"></i></a>
                                <a href="javascript:void(0)" data-bind="click: $root.EndPage" id="EndPage"><i class="fa fa-step-forward" aria-hidden="true"></i></a>
                                <div class="total-recos">
                                    Hiển thị <span data-bind="text: RowsStart"></span> - <span data-bind="text: RowsEnd"></span> trên tổng số
                                    <span data-bind="text: SumRowsHangHoa"></span>
                                    <span data-bind="text: LoaiBaoCao"></span>
                                </div>
                            </div>
                        </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script>
    $(function () {
        $('.newDateTime').daterangepicker({
            locale: {
                "format": 'DD/MM/YYYY',
                "separator": " - ",
                "applyLabel": "Tạo báo cáo",
                "cancelLabel": "Hủy",
                "fromLabel": "Từ",
                "toLabel": "Đến",
                "customRangeLabel": "Custom",
                "daysOfWeek": [
                    "CN",
                    "T2",
                    "T3",
                    "T4",
                    "T5",
                    "T6",
                    "T7"
                ],
                "monthNames": [
                    "Tháng 1",
                    "Tháng 2",
                    "Tháng 3",
                    "Tháng 4",
                    "Tháng 5",
                    "Tháng 6",
                    "Tháng 7",
                    "Tháng 8",
                    "Tháng 9",
                    "Tháng 10",
                    "Tháng 11",
                    "Tháng 12"
                ],
                "firstDay": 1
            }
        });
    });
    $(document).on('click', '.choose-date .dropdown-menu ul li', function () {
        var date = $(this).find("a").html();
        $(".choose-date-show").val(date);
    });
    $(document).on('click', '.choose-date .dropdown-menu ul li', function () {
        var date = $(this).find("a").html();
        $(".choose-date-show").val(date);
    });
    $('#table-nhanvien').on('click', '.show-tr', function (e) {
        var t = $(this).closest('tr').next(".tr-hide").css("display");
        $(".show-tr").find('.fa-plus').show();
        $(".show-tr").find('.fa-minus').hide();
        if (t == "none") {
            $(this).find('.fa-plus').hide();
            $(this).find('.fa-minus').show();
            $(".tr-hide").hide();
            $(this).closest('tr').next(".tr-hide").toggle();
        }
        else if (t == "block") {
            $(this).closest('tr').next(".tr-hide").hide();
        }
        else {
            $(".tr-hide").hide();
        }
    });
    $('#table_khachhang').on('click', '.show-tr', function (e) {
        var t = $(this).closest('tr').next(".tr-hide").css("display");
        $(".show-tr").find('.fa-plus').show();
        $(".show-tr").find('.fa-minus').hide();
        if (t == "none") {
            $(this).find('.fa-plus').hide();
            $(this).find('.fa-minus').show();
            $(".tr-hide").hide();
            $(this).closest('tr').next(".tr-hide").toggle();
        }
        else if (t == "block") {
            $(this).closest('tr').next(".tr-hide").hide();
        }
        else {
            $(".tr-hide").hide();
        }
    });
    function LoadingForm1(IsShow) {
        $('.tab-show .tab-pane').each(function () {
            if ($(this).hasClass('active')) {
                var top = $(this).find('.table-reponsive').height() / 2;
                var style = "top:" + (top > 30 ? top - 30 : top) + "px";
                $(this).find('.table-reponsive').gridLoader({ show: IsShow, style: style });
            }
        });
    }
    function printPage() {
        LoadingForm1(true);
        var strPrint = '';
        $('#table-reponsivetr .tab-pane').each(function () {
            if (!$(this).hasClass('active')) {
                $(this).hide();
            }
        });
        strPrint += document.getElementById('printtable').innerHTML;
        PrintExtraReportTr(strPrint);
        $('#table-reponsivetr .tab-pane').each(function () {
            if (!$(this).hasClass('active')) {
                $(this).show();
            }
        });
    }
    function printPageNhanVienCT() {
        LoadingForm1(true);
        var strPrint = '';
        strPrint += document.getElementById('printtableNhanVienCT').innerHTML;
        PrintExtraReportTr(strPrint);
    }
    function printPageKhachHangCT() {
        LoadingForm1(true);
        var strPrint = '';
        strPrint += document.getElementById('printtableKhachHangCT').innerHTML;
        PrintExtraReportTr(strPrint);
    }
    $('body').on('successPrint', function () {
        LoadingForm1(false);
    })
    function ShowNhom($this) {
        $this.next("ul").toggleClass("open");
    };
    
</script>
<style>
    .tab-pane {
        position: relative;
    }
    .StartImport {
        margin-right: 5px;
        z-index: 0;
        display: inline-block;
        background: #808080;
        color: #fff;
        font-weight: bold;
        font-size: 12px;
        padding: 7px 15px;
        white-space: nowrap;
        border: none;
        vertical-align: middle;
        border-radius: 2px;
        cursor: pointer;
    }
    .SelectReport {
        background: #bee69f;
        color: #000000;
    }
    .li-input-span {
        color: #333;
        line-height: 30px;
        text-align: left;
        width: auto !important;
        padding: 0px 7px;
        margin: 1px 0 1px 1px;
    }
    .li-input-select {
        background: #fff;
        color: #333;
        line-height: 30px;
        text-align: left;
        width: auto !important;
        padding: 0px 7px;
        margin: 1px 0 1px 1px;
    }
    .check-after-li {
        float: right;
        padding-right: 20px;
        line-height: 21px;
        color: #009ddc;
        display: inline !important;
    }
    .nameDonVi input {
        border: none;
        height: 30px;
        outline: none;
        padding-left: 10px;
        width: 50%;
    }
</style>
@Scripts.Render("~/bundles/ReportChietKhau")
