@using System.Web.Optimization
@{
    Layout = null;
}
<div class="container">
    <div class="row">
        <div class="col-sm-12">
            <div class="row">
                <div class=" op-filter">
                    <ul class="tabs-main ">
                        <li class="title-report">Báo cáo nhân viên </li>
                    </ul>
                    <section class="op-filter-body">
                        <article class="boxLeft sortTime">
                            <h3 class="op-filter-title" onclick="toggleSubFilter(this)">
                                <img src="~/Content/images/icon/kieuhienthi.png" />   Kiểu hiển thị
                            </h3>
                            <span></span>
                            <aside class="op-filter-container">
                                <ul class="chose_kieubang">
                                    <li value="1" id="BieuDo">
                                        <a href="#home" data-toggle="tab">
                                            <input type="radio" name="" value="1" data-bind="checked: check_kieubang">
                                            <label>Biểu đồ</label>
                                        </a>
                                    </li>
                                    <li value="2" id="BaoCao">
                                        <a href="#info" data-toggle="tab">
                                            <input type="radio" name="" value="2" href="#info" data-toggle="tab" data-bind="checked: check_kieubang">
                                            <label>Báo cáo</label>
                                        </a>
                                    </li>
                                </ul>
                            </aside>
                        </article>
                        <article class="boxLeft">
                            <h3 class="op-filter-title" onclick="toggleSubFilter(this)">
                                <img src="~/Content/images/icon/nguoiban.png" />     Người bán
                            </h3>
                            <span></span>
                            <aside class="op-filter-container">
                                <div class="outselect">
                                    <div class="choose-person floatleft " data-toggle="dropdown" id="choose_NguoiBan">
                                        <ul data-bind="foreach: MangNguoiBan">
                                            <li class="li-input-span">
                                                <span data-bind="text: TenNhanVien">
                                                </span>
                                                <span data-bind="click: $parent.CloseNguoiBan">
                                                    <i class="fa fa-times"></i>
                                                </span>
                                            </li>
                                        </ul>
                                        <input type="text" class="dropdown" id="NoteNameNguoiBan" data-bind="event:{keyup: NoteNameNhanVien}" placeholder="Chọn người bán..." />
                                    </div>
                                    <div class="selec-person dropdown-menu" id="selec-all-NguoiBan">
                                        <ul data-bind="foreach: NguoiBans">
                                            <li data-bind="attr:{id: ID}, click: $parent.SelectedNguoiBan">
                                                <span data-bind="text: TenNhanVien "></span>
                                        </ul>
                                    </div>
                                </div>
                            </aside>
                        </article>
                        <article class="boxLeft">
                            <h3 class="op-filter-title" onclick="toggleSubFilter(this)">
                                <img src="~/Content/images/icon/loaithuchi.png" />  Chi nhánh
                            </h3>
                            <aside class="op-filter-container">
                                <div class="outselect">
                                    <div class="nameDonVi choose-person floatleft " data-toggle="dropdown" id="choose_DonVi">
                                        <ul data-bind="foreach: MangChiNhanh">
                                            <li class="li-input-span">
                                                <span data-bind="text: TenDonVi">
                                                </span>
                                                <span data-bind="click: $parent.CloseDonVi">
                                                    <i class="fa fa-times"></i>
                                                </span>
                                            </li>
                                        </ul>
                                        <input type="text" class="dropdown nameDonVi" id="NoteNameDonVi" data-bind="event:{keyup: NoteNameDonVi}" placeholder="Chọn chi nhánh..." />
                                    </div>
                                    <div class="selec-person dropdown-menu" id="selec-all-DonVi">
                                        <ul data-bind="foreach: DonVis">
                                            <li data-bind="attr:{id: ID}, click: $parent.SelectedDonVi">
                                                <span data-bind="text: TenDonVi "></span>
                                        </ul>
                                    </div>
                                </div>
                            </aside>
                        </article>
                        <article class="boxLeft">
                            <h3 class="op-filter-title" onclick="toggleSubFilter(this)">
                                <img src="~/Content/images/icon/moiquantam.png" />        Mối quan tâm
                            </h3>
                            <span></span>
                            <aside class="op-filter-container">
                                <div class="menuRadio chooseTableBC">
                                    <ul>
                                        <li>
                                            <label><input type="radio" name="rdTonKho" value="1" data-bind="checked: Loc_Table"> Bán hàng</label>
                                        </li>
                                        <li>
                                            <label><input type="radio" name="rdTonKho" value="2" data-bind="checked: Loc_Table"> Lợi nhuận</label>
                                        </li>
                                        <li>
                                            <label><input type="radio" name="rdTonKho" value="3" data-bind="checked: Loc_Table"> Hàng bán theo nhân viên</label>
                                        </li>
                                    </ul>
                                </div>
                            </aside>
                        </article>
                        <article class="boxLeft">
                            <h3 class="op-filter-title" onclick="toggleSubFilter(this)">
                                <img src="~/Content/images/icon/thoigian.png" />       Thời gian
                            </h3>
                            <span></span>
                            <aside class="op-filter-container">
                                <div class="menuCheckbox choose_TimeReport">
                                    <div class="form-group floatleft">
                                        <div class="radio-menu">
                                            <input type="radio" name="rd_TimeReport" value="1" checked="true">
                                        </div>
                                        <div class="conten-choose">
                                            <div class=" choose-date">
                                                <div class="dr_TimeReport" data-toggle="dropdown" aria-expanded="true">
                                                    <input type="text" class="dropdown form-control choose-date-show ip_TimeReport" placeholder="Hôm nay" value="Hôm nay">
                                                </div>
                                                <div class="dropdown-menu choose_txtTime">
                                                    <div class="col-md-4 col-sm-4">
                                                        <h3>Theo ngày và tuần</h3>
                                                        <ul>
                                                            <li value="1" style="display: block;"><a href="javascript:void(0);" >Hôm nay</a></li>
                                                            <li value="2" style="display: block;"><a href="javascript:void(0);" >Hôm qua</a></li>
                                                            <li value="3" style="display: block;"><a href="javascript:void(0);" >Tuần này</a></li>
                                                            <li value="4" style="display: block;"><a href="javascript:void(0);" >Tuần trước</a></li>
                                                            <li value="5" style="display: block;"><a href="javascript:void(0);" >7 ngày qua</a></li>
                                                        </ul>
                                                    </div>
                                                    <div class="col-md-4 col-sm-4">
                                                        <h3>Theo tháng và quý</h3>
                                                        <ul>
                                                            <li value="6" style="display: block;"><a href="javascript:void(0);" >Tháng này</a></li>
                                                            <li value="7" style="display: block;"><a href="javascript:void(0);" >Tháng trước</a></li>
                                                            <li value="8" style="display: block;"><a href="javascript:void(0);" >30 ngày qua</a></li>
                                                            <li value="9" style="display: block;"><a href="javascript:void(0);" >Quý này</a></li>
                                                            <li value="10" style="display: block;"><a href="javascript:void(0);" >Quý trước</a></li>
                                                        </ul>
                                                    </div><div class="col-md-4 col-sm-4">
                                                        <h3>Theo năm</h3>
                                                        <ul>
                                                            <li value="11" class="ng-scope" style="display: block;"><a href="javascript:void(0);" >Năm này</a></li>
                                                            <li value="12" class="ng-scope" style="display: block;"><a href="javascript:void(0);" >Năm trước</a></li>
                                                            <li value="13" class="ng-scope" style="display: block;"><a href="javascript:void(0);" >Toàn thời gian</a></li>
                                                        </ul>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="form-group floatleft">
                                        <div class="radio-menu">
                                            <input type="radio" name="rd_TimeReport" value="2">
                                        </div>
                                        <div class="conten-choose">
                                            <div class="floatleft form-wrap ">
                                                <input type="text" class="form-control ip_DateReport newDateTime" name="daterange" />
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </aside>
                        </article>
                        <article class="boxLeft sortTime rd_HangHoa">
                            <h3 class="op-filter-title" onclick="toggleSubFilter(this)">
                                <img src="~/Content/images/icon/Iconbanhanggg-03.png" />     Hàng Hóa
                            </h3>
                            <aside class="op-filter-container">
                                <input type="text" placeholder="Theo mã, tên hàng hóa" class="form-control" id="txtMaHH" data-bind="event: {keyup: SelectMaHH}">
                            </aside>
                        </article>
                        <article class="boxLeft rd_LoaiHang">
                            <h3 class="op-filter-title" onclick="toggleSubFilter(this)">
                                <img src="~/Content/images/icon/loaihang.png" />         Loại hàng
                            </h3>
                            <aside class="op-filter-container">
                                <div class="menuCheckbox choose_LoaiHang">
                                    <ul>
                                        <li>
                                            <input value="1" type="checkbox" data-bind="checked: LoaiSP_HH"> Hàng hóa
                                        </li>
                                        <li>
                                            <input value="2" type="checkbox" data-bind="checked: LoaiSP_DV"> Dịch vụ
                                        </li>
                                    </ul>
                                </div>
                            </aside>
                        </article>
                        <aside class="op-filter-container rd_NhomHang">
                            <h3 class="op-filter-title groupi">
                                <img src="~/Content/images/icon/Iconbanhanggg-02.png" />           Nhóm hàng 
                            </h3>
                            <div class="seach-nhomhang">
                                <input type="text" class="seach-nhomhang" data-bind="event: {keyup: NoteNhomHang}" id="SeachNhomHang" placeholder="Tìm kiếm nhóm hàng" />
                                <i class="fa fa-search"></i>
                            </div>
                            <div id="tatcanhh" class="treename" data-bind="click: $root.SelectRepoert_NhomHangHoa">
                                <i class="fa fa-angle-right" aria-hidden="true"></i> Tất cả
                            </div>
                            <ul class="treeview floatleft SelectNhomHang" id="treeviewnhomhang" data-bind="foreach: NhomHangHoas">
                                <li class="ss-li">
                                    <div class="li-top li-oo" data-bind="click: $root.SelectRepoert_NhomHangHoa, attr:{id: ID}">
                                        <span class="treename" data-bind="text: TenNhomHangHoa"></span>
                                    </div>
                                    <span class="close-ul" data-bind="visible: Childs.length >0 "><i class="fa fa-caret-right" aria-hidden="true"></i></span>
                                    <ul data-bind="foreach: Childs">
                                        <li>
                                            <div class="li-top li-oo" data-bind="click: $root.SelectRepoert_NhomHangHoa, attr:{id: ID}">
                                                <span data-bind="text: TenNhomHangHoa" class="li-top li-pp"></span>
                                                <a href="javascript:void(0)" data-bind="click: $root.editNhomHangHoa"><i class="fa fa-pencil-square-o"></i></a>
                                            </div>
                                            <span class="close-ul" data-bind="visible: Child2s.length >0 "><i class="fa fa-caret-right" aria-hidden="true"></i></span>
                                            <ul data-bind="foreach: Child2s">
                                                <li>
                                                    <div class="li-top li-oo" data-bind="click: $root.SelectRepoert_NhomHangHoa, attr:{id: ID}">
                                                        <span data-bind="text: TenNhomHangHoa" class="li-top li-pp"></span>
                                                    </div>
                                                </li>
                                            </ul>
                                        </li>
                                    </ul>
                                </li>
                            </ul>
                            <div class="close-goods">
                                <a href="javascript:void(0)" class="add-goods"><em>Xem thêm </em><i class="fa fa-caret-down "></i></a>
                                <a href="javascript:void(0)" class="c-goods"><em>Thu gọn</em> <i class="fa fa-caret-down "></i></a>
                            </div>
                        </aside>
                    </section>
                    <div class="op-filter-footer">
                        <button type="button" class="kv2Btn">Hoàn tất</button>
                    </div>
                </div>
                <div class="content-table  " id="myScrollspy" style="top: 48px;position: sticky;">
                    <a href="javascript:void(0)" class="seach-fillter seach-fillter-bottom"><i class="fa fa-search" aria-hidden="true"></i></a>
                    <div class="tab-content">
                        <div class="tab-pane active" id="home">
                            <a href="javascript:void(0)" class="seach-fillter seach-fillter-bottom"><i class="fa fa-search" aria-hidden="true"></i></a>
                            <div id="chart"></div>
                        </div>
                        <div class="tab-pane" id="info">
                            <div class=" repost-bg floatleft" id="printablediv5">
                                <div class="repost">
                                    <div class="title-report-center"><span data-bind="text: MoiQuanTam"></span></div>
                                    <p>Ngày bán: <span data-bind="text: TodayBC"></span></p>
                                    <p>Chi nhánh: <span data-bind="text: TenChiNhanh"></span></p>
                                </div>
                                <div class="btnMenu pull-right">
                                    <button type="button" class="btn btn-main dropdown-toggle xuatfile" data-bind="click: ExportExcel"> <i class="fa fa-file-excel-o"></i> Xuất file</button>
                                    <button class="btn btn-main btn-group" id="btnExport" name="btnExport" onclick="printPage()"><i class="fa fa-print icon-print"></i>In</button>
                                    <div class="btn-dropdown ">
                                        <button type="button" class="btn btn-main  dropdown-toggle" onclick="showCollumnFilter(this)" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                             <i class="fa fa-angle-double-down"></i>
                                        </button>
                                        <div class="dropdown-list drop-column">
                                            <ul class="list_NVBanHang">
                                                <li>
                                                    <div class="checkbox">
                                                        <label><input type="checkbox" class="checkbox " id="nvbhnguoiban" checked="checked" value="0"><span></span>Người bán</label>
                                                    </div>
                                                </li>
                                                <li>
                                                    <div class="checkbox">
                                                        <label><input type="checkbox" class="checkbox " id="nvbhdoanhthu" checked="checked" value="1"><span></span>Doanh thu</label>
                                                    </div>
                                                </li>
                                                <li>
                                                    <div class="checkbox">
                                                        <label><input type="checkbox" class="checkbox " id="nvbhgiatri" checked="checked" value="2"><span></span>Giá trị trả</label>
                                                    </div>
                                                </li>
                                                <li>
                                                    <div class="checkbox">
                                                        <label><input type="checkbox" class="checkbox " id="nvdoanhthuthuant" checked="checked" value="3"><span></span>Doanh thu(thuần)</label>
                                                    </div>
                                                </li>
                                            </ul>
                                            <ul class="list_NV">
                                                <li>
                                                    <div class="checkbox">
                                                        <label><input type="checkbox" class="checkbox " id="nvname" checked="checked" value="0"><span></span>Nhân viên</label>
                                                    </div>
                                                </li>
                                                <li>
                                                    <div class="checkbox">
                                                        <label><input type="checkbox" class="checkbox " id="nvtongtien" checked="checked" value="1"><span></span>Tổng tiền hàng</label>
                                                    </div>
                                                </li>
                                                <li>
                                                    <div class="checkbox">
                                                        <label><input type="checkbox" class="checkbox " id="nvgiamgia" checked="checked" value="2"><span></span>Giảm giá HD</label>
                                                    </div>
                                                </li>
                                                <li>
                                                    <div class="checkbox">
                                                        <label><input type="checkbox" class="checkbox " id="nvdoanhthu" checked="checked" value="3"><span></span>Doanh thu</label>
                                                    </div>
                                                </li>
                                                <li>
                                                    <div class="checkbox">
                                                        <label><input type="checkbox" class="checkbox " id="nvgiatritra" checked="checked" value="4"><span></span>Giá trị trả</label>
                                                    </div>
                                                </li>
                                                <li>
                                                    <div class="checkbox">
                                                        <label><input type="checkbox" class="checkbox " id="nvdoanhthuthuan" checked="checked" value="5"><span></span>Doanh thu(thuần)</label>
                                                    </div>
                                                </li>
                                                <li>
                                                    <div class="checkbox">
                                                        <label><input type="checkbox" class="checkbox " id="nvgiavon" checked="checked" value="6"><span></span>Tổng giá vốn</label>
                                                    </div>
                                                </li>
                                                <li>
                                                    <div class="checkbox">
                                                        <label><input type="checkbox" class="checkbox " id="nvloinhuagop" checked="checked" value="7"><span></span>Lợi nhuận gộp</label>
                                                    </div>
                                                </li>
                                            </ul>
                                            <ul class="list_NVBanHangNV">
                                                <li>
                                                    <div class="checkbox">
                                                        <label><input type="checkbox" class="checkbox " id="nvtheonguoiban" checked="checked" value="0"><span></span>Người bán</label>
                                                    </div>
                                                </li>
                                                <li>
                                                    <div class="checkbox">
                                                        <label><input type="checkbox" class="checkbox " id="nvtheosl" checked="checked" value="1"><span></span>Số lượng bán</label>
                                                    </div>
                                                </li>
                                                <li>
                                                    <div class="checkbox">
                                                        <label><input type="checkbox" class="checkbox " id="nvtheogiatri" checked="checked" value="2"><span></span>Giá trị</label>
                                                    </div>
                                                </li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                                <div class="table-reponsive table_h" id="table-reponsive">
                                    <table class="table table-striped table-hover table_BanHang">
                                        <thead>
                                            <tr>
                                                <th class="nvbhnguoiban ">Người bán</th>
                                                <th class="nvbhdoanhthu text-right">Doanh thu</th>
                                                <th class="nvbhgiatri  text-right">Giá trị trả</th>
                                                <th class="nvdoanhthuthuant text-right">Doanh thu(thuần)</th>
                                            </tr>
                                        </thead>
                                        <tbody data-bind="foreach: ReportHH_BanHang">
                                            <tr>
                                                <td class="nvbhnguoiban " data-bind="text: TenNhanVien">Hóa đơn: 6</td>
                                                <td class="nvbhdoanhthu text-right" data-bind="text: formatNumber(DoanhThu)">12/09/2017</td>
                                                <td class="nvbhgiatri  text-right" data-bind="text: formatNumber(GiaTriTra)">8</td>
                                                <td class="nvdoanhthuthuant text-right" data-bind="text: formatNumber(DoanhThuThuan)"></td>
                                            </tr>
                                        </tbody>
                                        <tfoot class="PhanQuyen" hidden>
                                            <tr>
                                                <td class="bg12 bhma text-center" colspan="4"><i>Bạn không có quyền xem báo cáo này!</i></td>
                                            </tr>
                                        </tfoot>
                                        <tfoot class="Report_Empty" hidden>
                                            <tr>
                                                <td class="bg12 bhma text-center" colspan="4"><i>Báo cáo không có dữ liệu</i></td>
                                            </tr>
                                        </tfoot>
                                        <tbody class="TongCongBanHang" hidden>
                                            <tr>
                                                <td class="nvbhnguoiban bg12 bold">Tổng cộng: </td>
                                                <td class="nvbhdoanhthu bg12 text-right bold" data-bind="text: formatNumber(SumDoanhThu())"></td>
                                                <td class="nvbhgiatri bg12 text-right bold" data-bind="text: formatNumber(SumGiaTriTra())"></td>
                                                <td class="nvdoanhthuthuant bg12 text-right bold" data-bind="text: formatNumber(SumDoanhThuThuan())"></td>
                                            </tr>
                                        </tbody>
                                    </table>
                                    <table class="table table-striped table-hover table_LoiNhuan">
                                        <thead>
                                            <tr>
                                                <th class="nvname">Nhân viên</th>
                                                <th class="nvtongtien text-right">Tổng tiền hàng</th>
                                                <th class="nvgiamgia text-right">Giảm giá HĐ</th>
                                                <th class="nvdoanhthu text-right">Doanh thu</th>
                                                <th class="nvgiatritra text-right">Giá trị trả</th>
                                                <th class="nvdoanhthuthuan text-right">Doanh thu (thuần)</th>
                                                <th class="nvgiavon text-right">Tổng giá vốn</th>
                                                <th class="nvloinhuagop text-right">Lợi nhuận gộp</th>
                                            </tr>
                                        </thead>
                                        <tbody data-bind="foreach: ReportHH_LoiNhuan">
                                            <tr>
                                                <td class="nvname" data-bind="text: TenNhanVien"></td>
                                                <td class="nvtongtien text-right" data-bind="text: formatNumber(TongTienHang)"></td>
                                                <td class="nvgiamgia text-right" data-bind="text: formatNumber(GiamGiaHD)"></td>
                                                <td class="nvdoanhthu text-right" data-bind="text: formatNumber(DoanhThu)"></td>
                                                <td class="nvgiatritra text-right" data-bind="text: formatNumber(GiaTriTra)"></td>
                                                <td class="nvdoanhthuthuan text-right" data-bind="text: formatNumber(DoanhThuThuan)"></td>
                                                <td class="nvgiavon text-right" data-bind="text: formatNumber(TongGiaVon)"></td>
                                                <td class="nvloinhuagop text-right" data-bind="text: formatNumber(LoiNhuanGop)"></td>
                                            </tr>
                                        </tbody>
                                        <tfoot class="PhanQuyen" hidden>
                                            <tr>
                                                <td class="bg12 bhma text-center" colspan="8"><i>Bạn không có quyền xem báo cáo này!</i></td>
                                            </tr>
                                        </tfoot>
                                        <tfoot class="Report_Empty" hidden>
                                            <tr>
                                                <td class="bg12 bhma text-center" colspan="8"><i>Báo cáo không có dữ liệu</i></td>
                                            </tr>
                                        </tfoot>
                                        <tbody class="TongCongLoiNhuan" hidden>
                                            <tr>
                                                <td class="nvname bg12 bold">Tổng cộng: </td>
                                                <td class="nvtongtien bg12 text-right bold" data-bind="text: formatNumber(SumTongTienHang())"></td>
                                                <td class="nvgiamgia bg12 text-right bold" data-bind="text: formatNumber(SumGiamGiaHD())"></td>
                                                <td class="nvdoanhthu bg12 text-right bold" data-bind="text: formatNumber(SumDoanhThu_LN())"></td>
                                                <td class="nvgiatritra bg12 text-right bold" data-bind="text: formatNumber(SumGiaTriTra_LN())"></td>
                                                <td class="nvdoanhthuthuan bg12 text-right bold" data-bind="text: formatNumber(SumDoanhThuThuan_LN())"></td>
                                                <td class="nvgiavon bg12 text-right bold" data-bind="text: formatNumber(SumTongGiaVon())"></td>
                                                <td class="nvloinhuagop bg12 text-right bold" data-bind="text: formatNumber(SumLoiNhuanGop())"></td>
                                            </tr>
                                        </tbody>
                                    </table>
                                    <table class="table table-striped table-hover table_NhanVien" id="MyTableNV">
                                        <thead>
                                            <tr>
                                                <th class="nvtheonguoiban ">Người bán</th>
                                                <th class="nvtheosl tenhang text-right">Số lượng bán</th>
                                                <th class="nvtheogiatri nhomhang text-right">Giá trị </th>
                                            </tr>
                                        </thead>
                                        <tbody data-bind="foreach: ReportHangBan_NhanVien">
                                            <tr class="tr-show">
                                                <td class="plus-tr nvtheonguoiban"><div class="innerplus-tr" data-bind="click: $parent.ChiTietHangHoa"><i class="fa fa-plus blue" aria-hidden="true"></i><i class="fa fa-minus blue" aria-hidden="true"></i></div><span data-bind="text: TenNhanVien"></span></td>
                                                <td class="nvtheosl tenhang text-right" data-bind="text: formatNumber(SoLuong)"></td>
                                                <td class="nvtheogiatri nhomhang text-right" data-bind="text: formatNumber(GiaTri)"></td>
                                            </tr>
                                            <tr class="tr-hide">
                                                <td colspan="3">
                                                    <table class="table table-striped table-hover">
                                                        <thead>
                                                            <tr>
                                                                <th>Mã hàng</th>
                                                                <th>Tên hàng</th>
                                                                <th class="text-right">SL bán</th>
                                                                <th class="text-right">Giá trị </th>
                                                            </tr>
                                                        </thead>
                                                        <tbody data-bind="foreach: $parent.ReportHangBanChiTiet_NhanVien">
                                                            <tr>
                                                                <td data-bind="text: MaHangHoa"></td>
                                                                <td class="cls3 itemLeft" style="padding-left: 9px;">
                                                                    <span data-bind="text: TenHangHoa"></span>
                                                                    <span data-bind="text: ThuocTinh_GiaTri" style="color:#ff6a00"></span>
                                                                    <span data-bind="text: TenDonViTinh" style="color:#0094ff"></span>
                                                                    <span data-bind="text: TenLoHang" style="color:#000000"></span>
                                                                </td>
                                                                <td class="text-right" data-bind="text: formatNumber(SoLuong)"></td>
                                                                <td class="text-right" data-bind="text: formatNumber(GiaTri)"></td>
                                                            </tr>
                                                        </tbody>
                                                    </table>
                                                    <div class="page">
                                                        <div class="flex flex-end">
                                                            <a href="javascript:void(0)" data-bind="click: $root.StartPageNhapHang" id="StartPageNhapHang"><i class="fa fa-step-backward" aria-hidden="true"></i></a>
                                                            <a href="javascript:void(0)" data-bind="click: $root.BackPageNhapHang" id="BackPageNhapHang"><i class="fa fa-caret-left" aria-hidden="true"></i></a>
                                                            <ul data-bind="foreach: $parent.SumNumberPageReportNhapHang">
                                                                <li data-bind="click: $root.gotoNextPageNhapHang">
                                                                    <a href="javascript:void(0)" data-bind="text: SoTrang,css: $root.GetClassNhapHang($data)"></a>
                                                                </li>
                                                            </ul>
                                                            <a href="javascript:void(0)" data-bind="click: $root.NextPageNhapHang" id="NextPageNhapHang"><i class="fa fa-caret-right" aria-hidden="true"></i></a>
                                                            <a href="javascript:void(0)" data-bind="click: $root.EndPageNhapHang" id="EndPageNhapHang"><i class="fa fa-step-forward" aria-hidden="true"></i></a>
                                                            <div class="total-recos">
                                                                Hiển thị <span data-bind="text: $parent.RowsStartNhapHang"></span> - <span data-bind="text: $parent.RowsEndNhapHang"></span> trên tổng số
                                                                <span data-bind="text: $parent.SumRowsHangHoaNhapHang"></span> phiếu
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="out-print ">
                                                        <button type="button" class="btn btn-main btn-green dropdown-toggle " id="btnPrintExport" name="btnExport" onclick="printPageHangBanCT()"><i class="fa fa-print icon-print"></i>In</button>
                                                        <button type="button" class="btn btn-main btn-green dropdown-toggle " data-bind="click: $parent.ExportChiTietHangBan"> <i class="fa fa-file-excel-o"></i> Xuất file</button>
                                                    </div>
                                                </td>
                                            </tr>
                                        </tbody>
                                        <tfoot class="PhanQuyen" hidden>
                                            <tr>
                                                <td class="bg12 bhma text-center" colspan="3"><i>Bạn không có quyền xem báo cáo này!</i></td>
                                            </tr>
                                        </tfoot>
                                        <tfoot class="Report_Empty" hidden>
                                            <tr>
                                                <td class="bg12 bhma text-center" colspan="3"><i>Báo cáo không có dữ liệu</i></td>
                                            </tr>
                                        </tfoot>
                                        <tbody class="TongCongHangBan" hidden>
                                            <tr>
                                                <td class="bg12 nvtheonguoiban bold">Tổng cộng: </td>
                                                <td class="nvtheosl bg12 text-right bold" data-bind="text: formatNumber(SumSoLuongHangBan())"></td>
                                                <td class="nvtheogiatri bg12 text-right bold" data-bind="text: formatNumber(SumGiaTriHangHang())"></td>
                                            </tr>
                                        </tbody>
                                    </table>
                                    <div class="page">
                                        <div class="flex flex-end">
                                            <a href="javascript:void(0)" data-bind="click: $root.StartPage" id="StartPage"><i class="fa fa-step-backward" aria-hidden="true"></i></a>
                                            <a href="javascript:void(0)" data-bind="click: $root.BackPage" id="BackPage"><i class="fa fa-caret-left" aria-hidden="true"></i></a>
                                            <ul data-bind="foreach: SumNumberPageReport">
                                                <li data-bind="click: $parent.gotoNextPage">
                                                    <a href="javascript:void(0)" data-bind="text: SoTrang,css: $root.GetClass($data)"></a>
                                                </li>
                                            </ul>
                                            <a href="javascript:void(0)" data-bind="click: $root.NextPage" id="NextPage"><i class="fa fa-caret-right" aria-hidden="true"></i></a>
                                            <a href="javascript:void(0)" data-bind="click: $root.EndPage" id="EndPage"><i class="fa fa-step-forward" aria-hidden="true"></i></a>
                                            <div class="total-recos">
                                                Hiển thị <span data-bind="text: RowsStart"></span> - <span data-bind="text: RowsEnd"></span> trên tổng số
                                                <span data-bind="text: SumRowsHangHoa"></span> người bán
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="tab-pane" id="info1">
                            <div class=" repost-bg floatleft" id="printtable">
                                <div class="repost">
                                    <div class="title-report-center tieudetr"><span data-bind="text: MoiQuanTam"></span></div>
                                    <p>Ngày bán: <span data-bind="text: TodayBC"></span></p>
                                    <p class="nameChiNhanhTr">Chi nhánh: <span data-bind="text: TenChiNhanh"></span></p>
                                </div>
                                <div id="table-reponsivetr">
                                    <table class="table table-striped table-hover table_BanHang">
                                        <thead>
                                            <tr>
                                                <th class="nvbhnguoiban itemLeft" style="padding-left: 9px;">Người bán</th>
                                                <th class="nvbhdoanhthu itemRight" style="padding-right: 9px;">Doanh thu</th>
                                                <th class="nvbhgiatri itemRight" style="padding-right: 9px;">Giá trị trả</th>
                                                <th class="nvdoanhthuthuant itemRight" style="padding-right: 9px;">Doanh thu(thuần)</th>
                                            </tr>
                                        </thead>
                                        <tbody data-bind="foreach: ReportHH_BanHangPrint">
                                            <tr>
                                                <td class="nvbhnguoiban itemLeft" style="padding-left: 9px;" data-bind="text: TenNhanVien">Hóa đơn: 6</td>
                                                <td class="nvbhdoanhthu itemRight" style="padding-right: 9px;" data-bind="text: formatNumber(DoanhThu)">12/09/2017</td>
                                                <td class="nvbhgiatri itemRight" style="padding-right: 9px;" data-bind="text: formatNumber(GiaTriTra)">8</td>
                                                <td class="nvdoanhthuthuant itemRight" style="padding-right: 9px;" data-bind="text: formatNumber(DoanhThuThuan)"></td>
                                            </tr>
                                        </tbody>
                                        <tfoot class="TongCongBanHang">
                                            <tr>
                                                <td class="nvbhnguoiban bg12 bold itemLeft">Tổng cộng: </td>
                                                <td class="nvbhdoanhthu bg12 itemRight bold" data-bind="text: formatNumber(SumDoanhThu())"></td>
                                                <td class="nvbhgiatri bg12 itemRight bold" data-bind="text: formatNumber(SumGiaTriTra())"></td>
                                                <td class="nvdoanhthuthuant bg12 itemRight bold" data-bind="text: formatNumber(SumDoanhThuThuan())"></td>
                                            </tr>
                                        </tfoot>
                                    </table>
                                    <table class="table table-striped table-hover table_LoiNhuan">
                                        <thead>
                                            <tr>
                                                <th class="nvname itemLeft" style="padding-left: 9px;">Nhân viên</th>
                                                <th class="nvtongtien itemRight" style="padding-right: 9px;">Tổng tiền hàng</th>
                                                <th class="nvgiamgia itemRight" style="padding-right: 9px;">Giảm giá HĐ</th>
                                                <th class="nvdoanhthu itemRight" style="padding-right: 9px;">Doanh thu</th>
                                                <th class="nvgiatritra itemRight" style="padding-right: 9px;">Giá trị trả</th>
                                                <th class="nvdoanhthuthuan itemRight" style="padding-right: 9px;">Doanh thu (thuần)</th>
                                                <th class="nvgiavon itemRight" style="padding-right: 9px;">Tổng giá vốn</th>
                                                <th class="nvloinhuagop itemRight" style="padding-right: 9px;">Lợi nhuận gộp</th>
                                            </tr>
                                        </thead>
                                        <tbody data-bind="foreach: ReportHH_LoiNhuanPrint">
                                            <tr>
                                                <td class="nvname itemLeft" style="padding-left: 9px;" data-bind="text: TenNhanVien"></td>
                                                <td class="nvtongtien itemRight" style="padding-right: 9px;" data-bind="text: formatNumber(TongTienHang)"></td>
                                                <td class="nvgiamgia itemRight" style="padding-right: 9px;" data-bind="text: formatNumber(GiamGiaHD)"></td>
                                                <td class="nvdoanhthu itemRight" style="padding-right: 9px;" data-bind="text: formatNumber(DoanhThu)"></td>
                                                <td class="nvgiatritra itemRight" style="padding-right: 9px;" data-bind="text: formatNumber(GiaTriTra)"></td>
                                                <td class="nvdoanhthuthuan itemRight" style="padding-right: 9px;" data-bind="text: formatNumber(DoanhThuThuan)"></td>
                                                <td class="nvgiavon itemRight" style="padding-right: 9px;" data-bind="text: formatNumber(TongGiaVon)"></td>
                                                <td class="nvloinhuagop itemRight" style="padding-right: 9px;" data-bind="text: formatNumber(LoiNhuanGop)"></td>
                                            </tr>
                                        </tbody>
                                        <tfoot class="TongCongLoiNhuan">
                                            <tr>
                                                <td class="nvname bg12 bold itemLeft">Tổng cộng: </td>
                                                <td class="nvtongtien bg12 itemRight bold" data-bind="text: formatNumber(SumTongTienHang())"></td>
                                                <td class="nvgiamgia bg12 itemRight bold" data-bind="text: formatNumber(SumGiamGiaHD())"></td>
                                                <td class="nvdoanhthu bg12 itemRight bold" data-bind="text: formatNumber(SumDoanhThu_LN())"></td>
                                                <td class="nvgiatritra bg12 itemRight bold" data-bind="text: formatNumber(SumGiaTriTra_LN())"></td>
                                                <td class="nvdoanhthuthuan bg12 itemRight bold" data-bind="text: formatNumber(SumDoanhThuThuan_LN())"></td>
                                                <td class="nvgiavon bg12 itemRight bold" data-bind="text: formatNumber(SumTongGiaVon())"></td>
                                                <td class="nvloinhuagop bg12 itemRight bold" data-bind="text: formatNumber(SumLoiNhuanGop())"></td>
                                            </tr>
                                        </tfoot>
                                    </table>
                                    <table class="table table-striped table-hover table_NhanVien">
                                        <thead>
                                            <tr>
                                                <th class="nvtheonguoiban itemLeft" style="padding-left: 9px;">Người bán</th>
                                                <th class="nvtheosl tenhang itemRight" style="padding-right: 9px;">Số lượng bán</th>
                                                <th class="nvtheogiatri nhomhang itemRight" style="padding-right: 9px;">Giá trị </th>
                                            </tr>
                                        </thead>
                                        <tbody data-bind="foreach: ReportHangBan_NhanVienPrint">
                                            <tr>
                                                <td class="plus-tr nvtheonguoiban itemLeft" style="padding-left: 9px;"><div class="innerplus-tr" data-bind="click: $parent.ChiTietHangHoa"><i class="fa fa-plus blue" aria-hidden="true"></i><i class="fa fa-minus blue" aria-hidden="true"></i></div><span data-bind="text: TenNhanVien"></span></td>
                                                <td class="nvtheosl tenhang itemRight" style="padding-right: 9px;" data-bind="text: formatNumber(SoLuong)"></td>
                                                <td class="nvtheogiatri nhomhang itemRight" style="padding-right: 9px;" data-bind="text: formatNumber(GiaTri)"></td>
                                            </tr>
                                        </tbody>
                                        <tfoot class="TongCongHangBan">
                                            <tr>
                                                <td class="bg12 nvtheonguoiban bold itemLeft">Tổng cộng: </td>
                                                <td class="nvtheosl bg12 itemRight bold" data-bind="text: formatNumber(SumSoLuongHangBan())"></td>
                                                <td class="nvtheogiatri bg12 itemRight bold" data-bind="text: formatNumber(SumGiaTriHangHang())"></td>
                                            </tr>
                                        </tfoot>
                                    </table>
                                </div>
                            </div>
                        </div>
                        <div class="tab-pane" id="info2">
                            <div class="repost-bg floatleft" id="printtableHangBanCT">
                                <div class="repost">
                                    <div class="title-report-center tieudetr">Báo cáo hàng bán theo nhân viên</div>
                                    <p>Ngày bán: <span data-bind="text: TodayBC"></span></p>
                                    <p class="nameChiNhanhTr">Chi nhánh: <span data-bind="text: TenChiNhanh"></span></p>
                                    <p class="nameChiNhanhTr itemLeft" style="font-size: 13px;">Tên NV: <span data-bind="text: TenNVPrint"></span></p>
                                </div>
                                <div id="table-reponsivetr">
                                    <table class="table table-striped table-hover">
                                        <thead>
                                            <tr>
                                                <th class="itemCenter">Mã hàng</th>
                                                <th class="itemLeft" style="padding-left: 9px;">Tên hàng</th>
                                                <th class="itemRight" style="padding-right: 9px;">SL bán</th>
                                                <th class="itemRight" style="padding-right: 9px;">Giá trị </th>
                                            </tr>
                                        </thead>
                                        <tbody data-bind="foreach: ReportHangBanChiTiet_NhanVienPrint">
                                            <tr>
                                                <td class="itemCenter" data-bind="text: MaHangHoa"></td>
                                                <td class="cls3 itemLeft" style="padding-left: 9px;">
                                                    <span data-bind="text: TenHangHoa"></span>
                                                    <span data-bind="text: ThuocTinh_GiaTri" style="color:#ff6a00"></span>
                                                    <span data-bind="text: TenDonViTinh" style="color:#0094ff"></span>
                                                    <span data-bind="text: TenLoHang" style="color:#000000"></span>
                                                </td>
                                                <td class="itemRight" style="padding-right: 9px;" data-bind="text: formatNumber(SoLuong)"></td>
                                                <td class="itemRight" style="padding-right: 9px;" data-bind="text: formatNumber(GiaTri)"></td>
                                            </tr>
                                        </tbody>
                                        <tfoot class="TongCongNhapHang">
                                            <tr>
                                                <td class="bg12 itemLeft bold">Tổng cộng: </td>
                                                <td class="bg12 bold"></td>
                                                <td class="bg12 itemRight bold" data-bind="text: formatNumber(HB_SoLuongPrint())"></td>
                                                <td class="bg12 itemRight bold" data-bind="text: formatNumber(HB_GiaTriPrint())"></td>
                                            </tr>
                                        </tfoot>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="~/Content/js/exporting.js"></script>
<script>
    $(window).bind("load", function () {
        $("#cbmahang").click(function () {
            $(".mahang").toggle();
        });
        $("#cbtenhang").click(function () {
            $(".tenhang").toggle();
        });
        $("#cbnhomhang").click(function () {
            $(".nhomhang").toggle();
        });
        $("#cbloaihang").click(function () {
            $(".loaihang").toggle();
        });
        $("#cbgiaban").click(function () {
            $(".giaban").toggle();
        });
        $("#cbgiavon").click(function () {
            $(".giavon").toggle();
        });
        $("#cbtonkho").click(function () {
            $(".tonkho").toggle();
        });
    });
    $(function () {
        $('.datetimepicker4').datetimepicker({
            format: 'DD/MM/YYYYY'
            });
    });
    var w = $(window).width();
    if (w < 769) {
        var t = w - 25;
        $(".op-object-detail ").width(t);
    }
    $(document).on('click', '.choose-date .dropdown-menu ul li', function () {
        var date = $(this).find("a").html();
        $(".choose-date-show").val(date);
    });
    $(".op-filter-container .nav-tabs   a ").click(function () {
        $(".op-filter-container .nav-tabs   a ").removeClass("box-tab");
        $(this).addClass("box-tab");
    });
    function printDiv(divID) {
        var divElements = document.getElementById(divID).innerHTML;
        PrintExtraReport(divElements);
    }
    function printPage() {
        var strPrint = '';
        strPrint += document.getElementById('printtable').innerHTML;
        PrintExtraReportTr(strPrint);
    }
    function printPageHangBanCT() {
        var strPrint = '';
        strPrint += document.getElementById('printtableHangBanCT').innerHTML;
        PrintExtraReportTr(strPrint);
    }
    $('#MyTableNV').ready(function () {
        $('#table-reponsive').on('click', '.plus-tr .innerplus-tr', function () {
            $(".innerplus-tr .fa-minus").not($(this).find(".fa-minus")).hide();
            $(".innerplus-tr .fa-plus").not($(this).find(".fa-plus")).show();
            $(this).find("i").toggle();
            var t = $(this).parents(".tr-show").next(".tr-hide").css("display");
            if (t == "none") {
                $(".tr-hide").removeClass("blocktr");
                $(this).parents(".tr-show").next(".tr-hide").addClass("blocktr");
            }
            else if (t == "block") {
                $(this).parents(".tr-show").next(".tr-hide").removeClass("blocktr");
            }
            else {
                $(".tr-hide").removeClass("blocktr");
            }
        });
    });
    $(document).on('click', '.choose-date .dropdown-menu ul li', function () {
        var date = $(this).find("a").html();
        $(".choose-date-show").val(date);
    });
    $("#treeviewnhomhang li").hover(function () {
        $("#tatcanhh a").css("display", "none");
    });
    $(document).on('click', '.close-ul', function () {
        $(this).next("ul").toggleClass("open");
    });
    $(function () {
        $('.newDateTime').daterangepicker({
            locale: {
                "format": 'DD/MM/YYYY',
                "separator": " - ",
                "applyLabel": "Tạo báo cáo",
                "cancelLabel": "Hủy",
                "fromLabel": "Từ",
                "toLabel": "Đến",
                "customRangeLabel": "Custom",
                "daysOfWeek": [
                    "CN",
                    "T2",
                    "T3",
                    "T4",
                    "T5",
                    "T6",
                    "T7"
                ],
                "monthNames": [
                    "Tháng 1",
                    "Tháng 2",
                    "Tháng 3",
                    "Tháng 4",
                    "Tháng 5",
                    "Tháng 6",
                    "Tháng 7",
                    "Tháng 8",
                    "Tháng 9",
                    "Tháng 10",
                    "Tháng 11",
                    "Tháng 12"
                ],
                "firstDay": 1
            }
        });
    });
</script>
<style>
    #chart {
        position: relative;
        overflow: hidden;
        height: 500px;
        text-align: left;
        line-height: normal;
        z-index: 0;
        -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
        top: 2px;
    }
    .text-unit {
        bottom: 103px;
        right: 0px;
    }
    .StartImport {
        margin-right: 5px;
        z-index: 0;
        display: inline-block;
        background: #808080;
        color: #fff;
        font-weight: bold;
        font-size: 12px;
        padding: 7px 15px;
        white-space: nowrap;
        border: none;
        vertical-align: middle;
        border-radius: 2px;
        cursor: pointer;
    }
    .SelectReport {
        background: #bee69f;
        color: #000000;
    }
    .li-input-span {
        color: #333;
        line-height: 30px;
        text-align: left;
        width: auto !important;
        padding: 0px 7px;
        margin: 1px 0 1px 1px;
    }
    .li-input-select {
        background: #fff;
        color: #333;
        line-height: 30px;
        text-align: left;
        width: auto !important;
        padding: 0px 7px;
        margin: 1px 0 1px 1px;
    }
    .check-after-li {
        float: right;
        padding-right: 20px;
        line-height: 21px;
        color: #009ddc;
        display: inline;
    }
    .nameDonVi input {
        border: none;
        height: 30px;
        outline: none;
        padding-left: 10px;
        width: 50%;
    }
</style>
<script src="~/Scripts/knockout-3.4.2.js"></script>
@Scripts.Render("~/bundles/NhanVienBC")
